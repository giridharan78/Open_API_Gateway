function InitAgenda()
{
OutputFolder = "C:\\PerformanceTesting\\Projects\\STD_AUTOOUTPUT"
IncludeFile("C:\\PerformanceTesting\\Projects\\ACTIVE_Environment.js")
env_details()

Collector_File = CopyFile(Get_Collector_Validation)
Environment_File = CopyFile(Get_Env)
}

function InitClient()
{
Collector_DataFileParam = WLDataFileParam ( "Collector",Collector_File, 0,",",WLParamRandom,WLParamLocal,WLParamUpdateRound,WLParamCycle);
Collector_Col1 = WLDataFileField( Collector_DataFileParam, 1);
Environment_DataFileParam = WLDataFileParam ( "Environment",Environment_File, 0,",",WLParamRandom,WLParamLocal,WLParamUpdateRound,WLParamCycle);
Environment_Col1 = WLDataFileField( Environment_DataFileParam, 1);
}

function GetValidation()
{
	BeginTransaction("01_Validation_Service")
	wlHttp.ReportHttpErrors = false;
	wlGlobals.GetFrames = false 
	wlGlobals.UserAgent = "Apache-HttpClient/4.1.1 (java 1.5)"
	wlHttp.Data["Type"] = "application/vnd.com.nectar+xml"
	wlHttp.Data["Value"] = "Pa55word"
	wlHttp.Post("http://"+Environment_Col1.getValue()+"/nectar-openapi/collectors/"+Collector_Col1.getValue()+"/password-validation")


	var res = document.wlStatusNumber

	if (res==200) {
	EndTransaction("01_Validation_Service",WLSuccess,false)
	}
	else{
	EndTransaction("01_Validation_Service",WLError,true,"Didn't receive 200")
	}


}


